from zipfile import ZipFile
from pathlib import Path

# Create the content for the modified index.mdx file
index_mdx_content = """
import React from 'react';
import Link from '@docusaurus/Link';
import Layout from '@theme/Layout';

export default function Home() {
  return (
    <Layout title="Degen Brain" description="عملة الميم الذكية على Solana">
      <main style={{ padding: "2rem", textAlign: "center" }}>
        <img src="/img/degen-brain-logo.png" alt="Degen Brain Logo" style={{ maxWidth: "200px", marginBottom: "1rem" }} />
        <h1>💡 Degen Brain – عملة الميم الذكية على Solana</h1>
        <p style={{ fontSize: "1.2rem" }}>
          عملة $BRN جاهزة للشراء الآن على Orca، مدعومة من شبكة Solana، وبإجمالي عرض 69 مليار توكن.
        </p>
        <Link className="button button--primary" to="https://www.orca.so/swap?input=SOL&output=BNVfSm3HwcwxzFi1A9LnQS9VyGbL2NAnu7NWB2Pf3qaw" style={{ marginTop: "1rem", display: "inline-block" }}>
          اشترِ $BRN الآن
        </Link>
        <div style={{ marginTop: "3rem", textAlign: "left", maxWidth: "600px", marginInline: "auto" }}>
          <h2>معلومات التوكن</h2>
          <table style={{ width: "100%", background: "#f4f4f4", borderRadius: "8px", padding: "1rem" }}>
            <tbody>
              <tr><td><strong>الاسم:</strong></td><td>Degen Brain</td></tr>
              <tr><td><strong>الرمز:</strong></td><td>BRN</td></tr>
              <tr><td><strong>العقد:</strong></td><td><code>BNVfSm3HwcwxzFi1A9LnQS9VyGbL2NAnu7NWB2Pf3qaw</code></td></tr>
              <tr><td><strong>الشبكة:</strong></td><td>Solana</td></tr>
              <tr><td><strong>الإجمالي:</strong></td><td>69,000,000,000 BRN</td></tr>
              <tr><td><strong>النوع:</strong></td><td>SPL – Meme Coin</td></tr>
            </tbody>
          </table>
          <div style={{ marginTop: "1rem" }}>
            <a href="https://solscan.io/token/BNVfSm3HwcwxzFi1A9LnQS9VyGbL2NAnu7NWB2Pf3qaw" target="_blank">🔗 Solscan</a> | 
            <a href="https://www.orca.so/swap?input=SOL&output=BNVfSm3HwcwxzFi1A9LnQS9VyGbL2NAnu7NWB2Pf3qaw" target="_blank"> 🔗 Orca Swap</a>
          </div>
        </div>
      </main>
    </Layout>
  );
}
"""

# Define output paths
output_dir = Path("/mnt/data/degen_manual_site")
output_dir.mkdir(exist_ok=True)
(output_dir / "src/pages/index.mdx").parent.mkdir(parents=True, exist_ok=True)
(output_dir / "src/pages/index.mdx").write_text(index_mdx_content, encoding="utf-8")

# Copy and rename the logo
logo_src = Path("/mnt/data/Degen Brain Logo Illustration (1).png")
logo_dest = output_dir / "static/img/degen-brain-logo.png"
logo_dest.parent.mkdir(parents=True, exist_ok=True)
logo_dest.write_bytes(logo_src.read_bytes())

# Zip everything
zip_path = Path("/mnt/data/DegenBrain_Manual_Files.zip")
with ZipFile(zip_path, 'w') as zipf:
    for file_path in output_dir.rglob("*"):
        zipf.write(file_path, arcname=file_path.relative_to(output_dir))

zip_path.name
